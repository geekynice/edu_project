{% extends 'core/admin-core.html' %}

{% load static %}

{% block title %}Student Info{% endblock title %}

{% block content %}
<div class="data bg-light bg-gradient">
  {% for msg in messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <strong>Hey!</strong> {{msg}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}
  <h1 class="text-center pb-5 text-dark">Students Info</h1>
    {% if not students_info %}
        <h1 class="text-center">No data Found</h1>
      {% else %}
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Full Name</th>
              <th scope="col">Email</th>
              <th scope="col">Contact</th>
              <th scope="col">Address</th>
              <th scope="col">Parent's Name</th>
              <th scope="col">Username</th>
              <th scope="col">Blood Group</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for info in students_info %}
            <tr>
              <th scope="row">{{info.user.id}}</th>
              <td><a href="{% url 'student-profile' id=info.id %}" class="text-dark">{{info.user.first_name}} {{info.user.last_name}}</a></td>
              <td>{{info.user.email}}</td>
              <td>{{info.number}}</td>
              <td>{{info.address}}</td>
              <td>{{info.parents_name}}</td>
              <td>{{info.user.username}}</td>
              <td>{{info.blood_group}}</td>
              <td class="text-center"><a href="{% url 'edit-student' id=info.id %}" class="mx-2 btn btn-secondary">Edit</a> <a href="{% url 'delete-student' id=info.user.id %}" class="mx-2 btn btn-danger">Delete</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    {% endif %}
</div>
{% endblock content %}